### Concept

LFH는 힙 메모리의 단편화를 최소화하는 역할을 함.
메모리 블록을 효율적으로 관리하여 메모리 단편화를 방지하고, 이로 인한 성능 저하를 줄일 수 있음.
메모리 할당과 해제가 빈번하게 발생하는 멀티스레딩 환경에서 특히 중요.

Windows Vista 이상에서는 RtlSetHeapInformation API를 통해 LFH를 활성화할 수 있음.


### RtlSetHeapInformation

```C++
BOOL HeapSetInformation(
  [in, optional] HANDLE                 HeapHandle,
  [in]           HEAP_INFORMATION_CLASS HeapInformationClass,
  [in]           PVOID                  HeapInformation,
  [in]           SIZE_T                 HeapInformationLength
);
```

| Info       | HeapInformationClass               | HeapInformation |
| ---------- | ---------------------------------- | --------------- |
| LFH enable | HeapCompatibilityInformation (0x0) | 0x2             |

### Example

```C++
// low-fragmentation heap
process_heap = GetProcessHeap();
HeapInformation = 0x2;
RtlSetHeapInformation(process_heap, HeapCompatibilityInformation, &HeapInformation, 0x4);
```