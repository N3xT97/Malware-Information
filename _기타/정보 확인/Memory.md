## GlobalMemoryStatusEx

### Concept

- GlobalMemoryStatusEx
	- 메모리 정보 담고 있는 MEMORYSTATUSEX 구조체를 획득하는 함수
	- 함수를 호출하기 전에 dwLength를 설정해줘야 함.
- MEMORYSTATUSEX
	- byte 단위를 사용
	- 1024로 나눠서 단위 조정 가능 (b -> kb -> mb -> gb)
- 실행 흐름
	- MEMORYSTATUSEX 구조체의 dwLength를 설정.
	- GlobalMemoryStatusEx를 호출하여 MEMORYSTATUSEX 구조체를 획득.
	- MEMORYSTATUSEX 구조체에서 필요한 메모리 정보 획득.

### GlobalMemoryStatusEx

```C++
BOOL GlobalMemoryStatusEx(
  [in, out] LPMEMORYSTATUSEX lpBuffer
);
```

### MEMORYSTATUSEX

```C++
typedef struct _MEMORYSTATUSEX {
  DWORD     dwLength;
  DWORD     dwMemoryLoad;
  DWORDLONG ullTotalPhys;      // 총 메모리 용량
  DWORDLONG ullAvailPhys;
  DWORDLONG ullTotalPageFile;
  DWORDLONG ullAvailPageFile;
  DWORDLONG ullTotalVirtual;
  DWORDLONG ullAvailVirtual;
  DWORDLONG ullAvailExtendedVirtual;
} MEMORYSTATUSEX, *LPMEMORYSTATUSEX;
```

### Example

```C++
MEMORYSTATUSEX ms;
ZeroMemory(&ms, sizeof(MEMORYSTATUSEX));
ms.dwLength = sizeof(MEMORYSTATUSEX);
GlobalMemoryStatusEx(&ms);

uint total_ram = ms.ullTotalPhys / 1024 / 1024 / 1024;
if (total_ram < 2) {
	// todo
}
```